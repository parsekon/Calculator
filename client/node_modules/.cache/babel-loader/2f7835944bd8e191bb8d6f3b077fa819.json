{"ast":null,"code":"var _jsxFileName = \"/Users/DMITRIY/Desktop/PROJECTReact/BigBoss/Calculator/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Login from \"./Login\";\nimport provider from \"./Provider\"; // import Login from \"./Login\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [loginAccount, setLoginAccount] = useState();\n  const [needMetamask, setNeedMetamask] = useState(false);\n  const [exit, setExit] = useState(false);\n  useEffect(() => {\n    setLoginAccount(sessionStorage.getItem(\"login\"));\n  }, [exit]);\n\n  const handleClickMetamask = async () => {\n    const {\n      ethereum\n    } = window;\n\n    if (!ethereum) {\n      setNeedMetamask(true);\n    }\n\n    try {\n      const account = await provider.send(\"eth_requestAccounts\", []);\n      sessionStorage.setItem(\"login\", account[0]);\n      setLoginAccount(account[0]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleExitClick = () => {\n    sessionStorage.removeItem(\"login\");\n    setExit(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dark\",\n    children: !loginAccount ? /*#__PURE__*/_jsxDEV(Login, {\n      onClick: handleClickMetamask,\n      needMetamask: needMetamask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Header, {\n      onClick: handleExitClick,\n      account: loginAccount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"RHZk6hEhce3SyfGMElGi+QzQeO8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Header","Login","provider","App","loginAccount","setLoginAccount","needMetamask","setNeedMetamask","exit","setExit","sessionStorage","getItem","handleClickMetamask","ethereum","window","account","send","setItem","error","console","handleExitClick","removeItem"],"sources":["/Users/DMITRIY/Desktop/PROJECTReact/BigBoss/Calculator/src/components/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport Login from \"./Login\";\nimport provider from \"./Provider\";\n// import Login from \"./Login\";\n\nconst App = () => {\n  const [loginAccount, setLoginAccount] = useState();\n  const [needMetamask, setNeedMetamask] = useState(false);\n  const [exit, setExit] = useState(false);\n\n  useEffect(() => {\n    setLoginAccount(sessionStorage.getItem(\"login\"));\n  }, [exit]);\n\n  const handleClickMetamask = async () => {\n    const { ethereum } = window;\n    if (!ethereum) {\n      setNeedMetamask(true);\n    }\n    try {\n      const account = await provider.send(\"eth_requestAccounts\", []);\n      sessionStorage.setItem(\"login\", account[0]);\n      setLoginAccount(account[0]);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleExitClick = () => {\n    sessionStorage.removeItem(\"login\");\n    setExit(true);\n  }\n\n  return (\n    <div className=\"dark\">\n      {!loginAccount ? (\n        <Login onClick={handleClickMetamask} needMetamask={needMetamask} />\n      ) : (\n        <Header onClick={handleExitClick} account={loginAccount} />\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB,C,CACA;;;;AAEA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAChB,MAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCN,QAAQ,EAAhD;EACA,MAAM,CAACO,YAAD,EAAeC,eAAf,IAAkCR,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,KAAD,CAAhC;EAEAD,SAAS,CAAC,MAAM;IACdO,eAAe,CAACK,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAD,CAAf;EACD,CAFQ,EAEN,CAACH,IAAD,CAFM,CAAT;;EAIA,MAAMI,mBAAmB,GAAG,YAAY;IACtC,MAAM;MAAEC;IAAF,IAAeC,MAArB;;IACA,IAAI,CAACD,QAAL,EAAe;MACbN,eAAe,CAAC,IAAD,CAAf;IACD;;IACD,IAAI;MACF,MAAMQ,OAAO,GAAG,MAAMb,QAAQ,CAACc,IAAT,CAAc,qBAAd,EAAqC,EAArC,CAAtB;MACAN,cAAc,CAACO,OAAf,CAAuB,OAAvB,EAAgCF,OAAO,CAAC,CAAD,CAAvC;MACAV,eAAe,CAACU,OAAO,CAAC,CAAD,CAAR,CAAf;IACD,CAJD,CAIE,OAAOG,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAcA,KAAd;IACD;EACF,CAZD;;EAcA,MAAME,eAAe,GAAG,MAAM;IAC5BV,cAAc,CAACW,UAAf,CAA0B,OAA1B;IACAZ,OAAO,CAAC,IAAD,CAAP;EACD,CAHD;;EAKA,oBACE;IAAK,SAAS,EAAC,MAAf;IAAA,UACG,CAACL,YAAD,gBACC,QAAC,KAAD;MAAO,OAAO,EAAEQ,mBAAhB;MAAqC,YAAY,EAAEN;IAAnD;MAAA;MAAA;MAAA;IAAA,QADD,gBAGC,QAAC,MAAD;MAAQ,OAAO,EAAEc,eAAjB;MAAkC,OAAO,EAAEhB;IAA3C;MAAA;MAAA;MAAA;IAAA;EAJJ;IAAA;IAAA;IAAA;EAAA,QADF;AASD,CArCD;;GAAMD,G;;KAAAA,G;AAuCN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}